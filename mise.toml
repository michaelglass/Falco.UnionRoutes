[tools]
dotnet = "10.0"

[tasks.restore]
description = "Restore dependencies"
run = "dotnet restore"

[tasks.build]
description = "Build the solution"
run = "dotnet build"
depends = ["restore"]

[tasks.test]
description = "Run tests"
run = "dotnet test"
depends = ["build"]

[tasks.format]
description = "Format code with Fantomas"
run = "dotnet fantomas src/ tests/"

[tasks.format-check]
description = "Check formatting without making changes"
run = "dotnet fantomas src/ tests/ --check"

[tasks.lint]
description = "Run FSharpLint"
run = "dotnet fsharplint lint Falco.UnionRoutes.sln"
depends = ["build"]

[tasks.ci]
description = "Run all CI checks"
depends = ["format-check", "lint", "test"]

[tasks.pack]
description = "Create NuGet package"
run = "dotnet pack src/Falco.UnionRoutes/Falco.UnionRoutes.fsproj -c Release"
depends = ["build"]
